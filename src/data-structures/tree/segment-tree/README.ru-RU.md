# Дерево отрезков

В информатике **дерево отрезков**  это древовидная структура, используемая для хранения
информации об отрезках и интервалах. Она позволяет выяснить какой из сегментов содержит
заданную точку. По сути это статичная структура; т.е. структура, которая не меняется
после создания. Схожей структурой является дерево интервалов.

Дерево отрезков являет собой бинарное дерево. Корень дерева представляет целый массив.
Два потомка корня представляют первую и вторую половины массива. Похожим образом, потомки
каждого узла соответствуют двум половинам массива, соответствующего данному узлу.

Мы строим дерево вверх ногами, где значение каждого узла является "минимальным" (или
может быть выражено любой другой функцией) из своих узлов-потомков. Это потребует
`O(n log n)` времени. Количество выполненных операций равно высоте дерева, т.е. `O(log n)`.
Для выполнения запроса на отрезке каждый узел делит запрос на две части - по одному подзапросу
на каждого потомка. Если запрос содержит целый подмассив узла, мы можем использовать
предварительно вычисленное значение узла. Пользуясь данной оптимизацией можно доказать,
что было выполнено только `O(log n)` вычислений минимума.

## Применение

Дерево отрезков спроектировано для эффективного выполнения определённых операций над
массивами - особенно тех, которые включают запрос на отрезке.

Применения дерева отрезков сосредоточены в области вычислительной геометрии и географических
информационных систем.

Приведённая реализация дерева отрезков подразумевает, что вы можете передать любую бинарную
операцию (над двумя выходными параметрами). Т.о. вы имеете возможность выполнить запрос на
отрезке для самых разных функций. В тестах вы можете найти примеры выполнения `min`, `max`
и `sum` на дереве отрезков.

## Ссылки

- [Wikipedia](https://ru.wikipedia.org/wiki/%D0%94%D0%B5%D1%80%D0%B5%D0%B2%D0%BE_%D0%BE%D1%82%D1%80%D0%B5%D0%B7%D0%BA%D0%BE%D0%B2)
- [YouTube](https://www.youtube.com/watch?v=Y_KJaF9bIbY)
