# Дерево Фенвика / двоичное индексированное дерево

**Дерево Фенвика** или **двоичное индексированное дерево** — структура данных, позволяющая быстро изменять значения в
массиве и находить некоторые функции от элементов массива. 

По сравнению с плоским массивом чисел дерево Фенвика более сбалансированно для двух операций: изменение значения и сумма
префиксов. В плоском массиве из `n` чисел вы можете хранить или элементы, или суммы префиксов. В первом случае вычисление
сумм префиксов требует линейного времени; во втором случае изменение массива элементов требует линейного времени (в обоих
случаях другая операция может быть выполнена за фиксированное время). Деревья Фенвика позволяют выполнять обе операции
за время `O(log n)`. Это достигается представление чисел в виде дерева, где значение каждого узла представлено суммой
чисел в данном поддереве. Данная древовидная структура позволяет выполнять операции, используя только `O(log n)`
запросов на чтение. 

## Заметки по реализации

Бинарное индексированное дерево представлено в виде массива. Каждый узел дерева содержит сумму
некоторых элементов указанного массива. Размер бинарного индексированного дерева равен `n`, где `n` - размер введённого
массива. В текущей реализации мы использовали размер `n+1` для упрощения реализации. Все индексы начинаются с единицы.

![Binary Indexed Tree](https://www.geeksforgeeks.org/wp-content/uploads/BITSum.png)

На изображении ниже вы видите анимированный пример создания бинарного индексированного дерева для массива
`[1, 2, 3, 4, 5]`, вставленных один за другим.

![Fenwick Tree](https://upload.wikimedia.org/wikipedia/commons/d/dc/BITDemo.gif)

## Ссылки

- [Wikipedia](https://ru.wikipedia.org/wiki/%D0%94%D0%B5%D1%80%D0%B5%D0%B2%D0%BE_%D0%A4%D0%B5%D0%BD%D0%B2%D0%B8%D0%BA%D0%B0)
